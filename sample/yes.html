<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://gsports.gitam.edu/assets/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="https://gsports.gitam.edu/assets/font-awesome/css/font-awesome.min.css">

    <title></title>
    <style type="text/css">
        body {
            font-size: 15px;
            font-family: 'Trebuchet MS', sans-serif;
            background: #e7e7e7;
        }

        #print-table {
            margin: auto;
            width: 95%; 
            max-width: 550px; 
            background: #fff;
            padding: 20px;
            position: relative; 
        }

        @media (min-width: 426px) {
            #print-table {
                width: 550px;
            }
        }

        .back-button {
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
            align-items: center;
            text-decoration: none;
            cursor: pointer;
            gap: 0;
        }

        .back-button svg {
            width: 30px;
            height: 30px;
            fill: #007bff; 
            stroke: #007bff; 
            stroke-width: 1; 
            margin-right: 1px; 
        }

        .back-button span {
            color: #007bff;
            font-weight: bold; 
            font-size: 16px;
        }

        .back-button:hover svg {
            fill: #0056b3; 
            stroke: #0056b3;
        }

        .back-button:hover span {
            color: #0056b3; 
        }

        table {
            margin-left: 10px;
            margin-right: 10px;
            width: 100%;
        }

        table th {
            font-weight: bold;
            text-align: left;
            width: 35%; 
            white-space: nowrap;
        }

        table td {
            width: 65%;
            word-break: break-word; 
            white-space: nowrap;
        }

        .user-img {
            width: 60px; 
        }
      
        .card {
            width: 100% !important;
            margin: 0 auto;
            max-width: 450px; 
        }
    </style>
</head>

<body>

    <div id="print-table" style="padding-bottom: 60px; padding-top: 60px;">
        <!-- Back button with SVG and text -->
        <a href="index.html" class="back-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="back">
                <path d="M22,15H12.41l2.3-2.29a1,1,0,0,0-1.42-1.42l-4,4a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l4,4a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L12.41,17H22a1,1,0,0,0,0-2Z"></path>
            </svg>
            <span>Back</span>
        </a>
        <div class="card" id="print-pdf">
            <div class="logo text-center">
                <img src="https://cdn.gitam.edu/images/logo/gitam-new-logo.png" class="gitam-logo-1" width="120px">
                <h3>Reservation information</h3>
            </div>
            <table class="m17 jb jb1 table table-bordered" style="width:100% !important">
                <tbody>
                    <tr>
                        <th>Ref. number</th>
                        <td>
                            <b>20250222762032</b>
                        </td>
                    </tr>
                    <tr>
                        <th>Stadium</th>
                        <td>
                            Fitness & Performance Centre
                        </td>
                    </tr>
                    <tr>
                        <th>Playground</th>
                        <td>
                            Fitness & Performance Centre
                        </td>
                    </tr>
                    <tr>
                        <th>Court</th>
                        <td>
                            room 1
                        </td>
                    </tr>
                    <tr>
                        <th>Name</th>
                        <td>
                            <img src='https://doeresults.gitam.edu/photo/img.aspx?id=VU22CSEN0101442' class='user-img'/>    KILARI YESWANTH
                        </td>
                    </tr>
                    <tr>
                        <th>Department</th>
                        <td>
                            CSE
                        </td>
                    </tr>
                    <tr>
                        <th>Campus</th>
                        <td>
                            GIT, Visakhapatnam
                        </td>
                    </tr>
                    <tr>
                        <th>Mobile</th>
                        <td>
                           8555941817
                        </td>
                    </tr>
                    <tr>
                        <th>E-mail</th>
                        <td>
                            ykilari@gitam.in
                        </td>
                    </tr>
                    <tr>
                        <th>Booking date</th>
                        <td id="bookingDate" style="font-weight: bold;">
                            
                        </td>
                    </tr>
                    <tr>
                        <th>Booking slot</th>
                        <td id="bookingSlot">
                           
                        </td>
                    </tr>
                    <tr>
                        <th>Registration fee</th>
                        <td>
                            FREE
                        </td>
                    </tr>
                    <tr>
                        <th>Status</th>
                        <td>
                            <b style="color: rgb(7, 104, 7);">Approved</b>
                        </td>
                    </tr>
                    <tr>
                        <th>Remarks</th>
                        <td>
                            <b>Approved</b>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <br>

    <script type="text/javascript" src="https://gsports.gitam.edu/assets/js/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://gsports.gitam.edu/assets/js/html2canvas.min.js"></script>
    <script type="text/javascript">
        function printpage() {
            document.getElementById("print-btn").style.display = 'none';
            var fileName = '20240807605783' + ".pdf";
            html2canvas(document.getElementById('print-pdf'), {
                onrendered: function (canvas) {
                    var data = canvas.toDataURL();
                    var docDefinition = {
                        content: [{
                            image: data,
                            width: 500,
                        }]
                    };
                    pdfMake.createPdf(docDefinition).download(fileName);
                }
            });
        }
    </script>
    <style>
        td {
            white-space: nowrap;
        }

        th {
            white-space: nowrap;
        }
    </style>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const bookingDateCell = document.getElementById('bookingDate');
        const today = new Date();

        const day = String(today.getDate()).padStart(2, '0');
        const month = today.toLocaleString('default', { month: 'short' });
        const year = today.getFullYear();

        const formattedDate = `${day}-${month}-${year}`;
    
        bookingDateCell.textContent = formattedDate;
        const now = new Date();
        let currentHour = now.getHours();
        let startHour = Math.floor(currentHour);

        let endHour = startHour + 1;
        let ampmStart = startHour >= 12 ? 'PM' : 'AM';
        let ampmEnd = endHour >= 12 ? 'PM' : 'AM';

        if (startHour > 12) {
            startHour -= 12;
        } else if(startHour === 0){
            startHour = 12;
        }
        if (endHour > 12) {
            endHour -= 12;
        } else if(endHour === 0){
            endHour = 12;
        }

        const bookingSlotCell = document.getElementById('bookingSlot');

        const formattedStartHour = String(startHour).padStart(2, '0');
        const formattedEndHour = String(endHour).padStart(2,'0');

        bookingSlotCell.innerHTML = `<span style="color: rgb(7, 104, 7); font-weight: bold "><b> ${formattedStartHour}:00 ${ampmStart} to ${formattedEndHour}:00 ${ampmEnd}</b></span>`;
    });
    </script>

</body>

</html>
